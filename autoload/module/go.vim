"======================================================================
"
" go.vim - 
"
" Created by skywind on 2024/03/20
" Last Modified: 2024/03/20 23:37:53
"
"======================================================================


"----------------------------------------------------------------------
" internal 
"----------------------------------------------------------------------
let s:has_goimports = executable('goimports')? 1 : 0


"----------------------------------------------------------------------
" init 
"----------------------------------------------------------------------
function! module#go#init()
	if &bt == '' && &ft == 'go'
		augroup ModuleGoEvents
			au! * <buffer>
			au BufWritePre <buffer> :call module#go#format()
		augroup END
	endif
endfunc


"----------------------------------------------------------------------
" format  
"----------------------------------------------------------------------
function! module#go#format()
	if s:has_goimports
		call asclib#text#format('goimports')
	endif
endfunc



